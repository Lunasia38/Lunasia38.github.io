---
title: Hexo+ShokaX主题+Edgeone快速搭建个人博客
date: 2026-02-13 16:41:16
---
本文概述作者如何解决搭建博客中遇到的问题，旨在提供一个搭建博客的大纲让读者能快速了解如何搭建一个博客

# 准备工作
## 前情提要
本文章主要展示作者把博客部署到Edgeone上遇到的问题。详细过程可参考另一个博主的文章[Hexo+ShokaX主题+Vercel/Github Pages搭建个人博客(一)](https://lyrashore.com/computer-science/hexo/shokax/shokax-start/)，本博客搭建主要参考了这篇博客文章，区别不同于本博客部署的平台是腾讯云Edgeone。最新过程请查看[Shokax官方文档](https://docs.shokax.kaitaku.xyz/getting-started/)

搭建过程中请备好通义千问等AI对话模型，遇到不懂的无法解决可以直接去问，由于博主也是半吊子所以更专业的去问AI吧！也请准备好Vscode、Trae等IDE编辑器，你应该有吧？

## Node.js
[ShoKaX官方](https://docs.shokax.kaitaku.xyz/getting-started/)推荐nodejs 18 或更高版本。这边推荐先安装nvm更好的进行ndoejs版本管理以及切换，而且也可以通过nvm直接下载nodejs。这方面参考[Hexo+ShokaX主题+Vercel/Github Pages搭建个人博客(一)](https://lyrashore.com/computer-science/hexo/shokax/shokax-start/)里的流程或者在互联网上搜索。

## 包管理器
官方文档推荐使用pnpm，在命令提示符中输入

```bash
npm install -g pnpm@latest-10
```

# Hexo+ShokaX主题安装
## 安装
Hexo是一个静态博客框架，而ShokaX是其中的一种主题。安装过程请先参考[ShokaX官方文档](https://docs.shokax.kaitaku.xyz/)中如何开始使用的过程。本博客使用git方式进行主题安装，略显麻烦，过程中也可能遇到本文章没记录的问题，不过可以尝试使用AI大模型进行解决。

先进性hexo环境初始化

```bash
pnpm add hexo-cli -g
# cd your_path
hexo init
# 如果报错: pnpm dlx hexo init
```

此时，你已经创建了一个基于 yarn 包管理器的 hexo 环境 官方建议通过以下方法更换为 pnpm:
```bash
# 请自行删除对应文件夹内的 node_modules 和 yarn.lock
pnpm install
```

这里你可以在生成的文件根目录下进行

```bash
hexo s
```

看看有没有运行，点击命令提示符中的链接能不能正常跳出网页，能的话就说明没问题继续。

博主使用git方式进行shokax主题安装，在此之前你需要确定你能连接上github，以及去注册github账户。解决以上问题在往下看。
官方提示：通过 git 方式安装时，我们建议 Fork 一个 ShokaX 的 Github 仓库并从你的 fork 版本 clone，这会极大降低修改主题后升级的难度  
同时，ShokaX 的 git 方式安装并不是为普通用户准备的，此流程比 npm 或即食罐头更复杂且可能出现其他错误 

```bash
cd themes
git clone https://github.com/theme-shoka-x/hexo-theme-shokaX.git 
# 可替换为github中你自己的项目,建议fork主题仓库,方便后续更新主题
#clone 完成之后，把 hexo-theme-shokaX 重命名成 shokax
cd shokax
node ./toolbox/compiler.mjs
# 耐心等待编译完成
cd ../..
hexo s # 或 pnpm dlx hexo s
# pnpm 用户必须运行，yarn/npm遇到依赖错误可运行：
node ./themes/shokax/toolbox/hoistdep.mjs
# 等待运行完成后，问题通常会解决
```

如果过程中遇到报错大概率是缺少了哪个依赖包，在命令行上输入<font color="#4f81bd">pnpm add 缺少的依赖包</font> 就行。看不懂把整个报错信息输入到AI大模型中，比如通义千问等产品。然后在重新编译，哪里断了从哪里重新开始。

将项目根目录中`_config.yml`中的theme: landscape 改成 theme: shokax 顺便再把 language: cn 改成 language: zh-CN 更换博客主语言，并将`_config.landscape.yml`修改为`_config.shokax.yml`

当你这时候<font color="#4f81bd">hexo s</font> 会报错是因为shokax主题强制首页轮播图要至少6张，如果你没有加入的话就会出错，我也不知道为什么要这样设置。但来都来了，如果你有能力可以修改.\themes\shokax\scripts\helpers\engine.js中的代码，但很危险，想方便还是老老实实的在自定义轮播图中加6张以上的图吧。

具体情况参考[shoakx官方教程](https://docs.shokax.kaitaku.xyz/features/themeconfig/)，在根目录下的`/source/_data/`目录下创建`images.yml`,其中可以添加图床或本地静态图片(你可以先用公共平台的图片链接或者本地)。本地静态图片也是在`/source/_data/`目录下创建`assets`，里面放置图片。
`images.yml`填写如下，推荐用图床。本地的就填写如`/assets/test.jpg`
```
- https://i.imgtg.com/2023/03/09/YS2LU.jpg
- https://i.imgtg.com/2023/03/09/YSj7p.jpg
- https://i.imgtg.com/2023/03/09/YS6XY.jpg
- https://i.imgtg.com/2023/03/09/YSIlc.jpg
- https://i.imgtg.com/2023/03/09/YQSYM.jpg
- https://i.imgtg.com/2023/03/09/Y0xvg.jpg
- https://i.imgtg.com/2023/03/09/Y0iNK.jpg
- https://i.imgtg.com/2023/03/09/Y0zdB.jpg
- https://i.imgtg.com/2023/03/09/Y0kTl.jpg
- https://i.imgtg.com/2023/03/09/Y0hOs.jpg
```

## 基本配置
写在项目hexo根目录的<font color="#4f81bd">`_config.yml`</font>文件里，注意<font color="#ff0000">代码缩进</font>
### markdown 配置

```
markdown:
  render: # 渲染器设置
    html: false # 过滤 HTML 标签
    xhtmlOut: true # 使用 '/' 来闭合单标签 （比如 <br />）。
    breaks: true # 转换段落里的 '\n' 到 <br>。
    linkify: true # 将类似 URL 的文本自动转换为链接。
    typographer:
    quotes: "“”‘’"
  plugins: # markdown-it 插件设置
    - plugin:
        name: markdown-it-toc-and-anchor
        enable: true
        options: # 文章目录以及锚点应用的 class 名称，shoka 系主题必须设置成这样
          tocClassName: "toc"
          anchorClassName: "anchor"
    - plugin:
        name: markdown-it-multimd-table
        enable: true
        options:
          multiline: true
          rowspan: true
          headerless: true
    - plugin:
        name: ./markdown-it-furigana
        enable: true
        options:
          fallbackParens: "()"
    - plugin:
        name: ./markdown-it-spoiler
        enable: true
        options:
          title: "你知道得太多了"
```

### 停用代码高亮
先去<font color="#4f81bd">`package.json`</font>查看<font color="#4f81bd">hexo</font>的version，根据version的不同停用内建代码高亮组件
停用默认代码高亮（小于等于`6.3.0`）:

```
highlight:  enable: false
prismjs:  enable: false
```
停用默认代码高亮（大于等于`7.0.0-rc1`）：

```
syntax_highlighter: false
```

### 推荐配置
文件压缩
ShokaX 默认压缩器推荐配置：

```
minify:
  js:
    enable: false # ShokaX 自带 esbuild 优化，不建议开启，其他主题建议开启
    exclude: # 排除文件，接受 string []，需符合 micromatch 格式
  css:
    enable: true # 开启 CSS 优化
    options:
      targets: ">= 0.5%" # browserslist 格式的 target
    exclude: # 排除文件，接受 string []，需符合 micromatch 格式
  html:
    minifier: html-minifier
    enable: true # 开启 HTML 优化
    options:
      comments: false # 是否保留注释内容
    exclude: # 排除文件，接受 string []，需符合 micromatch 格式
  image:
    enable: false # 开启图片预处理和自动 WebP 化
    options:
      avif: false
      webp: true # 预留配置项，现版本无作用
      quality: 80 # 质量，支持 1-100 的整数、lossless 或 nearLossless
      effort: 2 # CPU 工作量，0-6 之间的整数 (越低越快)
      replaceSrc: false # 自动替换生成 html 中的本地图片链接为 webp 链接
      # 对于使用 CI 工作流部署的用户，请注意本配置可能导致图片 404，如果出现请关闭
      # 我们更建议使用 Service Worker 来在用户侧实现 replaceSrc 的功能，这将能够以一种侵入式更小的方式实现链接替换
    exclude:
```

### feed生成
官方是下面这样的，先别急着复制。下面的路径这样写是你使用包管理器安装shokax的情况下才这样写。

```bash
feed:
  limit: 20
  order_by: "-date"
  tag_dir: false
  category_dir: false
  rss:
    enable: true
    template: "node_modules/hexo-theme-shokax/layout/_alternate/rss.ejs"
    output: "rss.xml"
  atom:
    enable: true
    template: "node_modules/hexo-theme-shokax/layout/_alternate/atom.ejs"
    output: "atom.xml"
  jsonFeed:
    enable: true
    template: "node_modules/hexo-theme-shokax/layout/_alternate/json.ejs"
    output: "feed.json"
```

我自己的做了些修改，因为主题安装是从git那安装的，所以文件是放在了/themes下，其源模板自然是要去/themes那去找。你如果也是git那安装的你也可以这样。

```bash
feed:
  limit: 20
  order_by: "-date"
  tag_dir: false
  category_dir: false
  rss:
    enable: true
    template: "themes/shokax/layout/_alternate/rss.ejs"
    output: "rss.xml"
  atom:
    enable: true
    template: "themes/shokax/layout/_alternate/atom.ejs"
    output: "atom.xml"
  jsonFeed:
    enable: true
    template: "themes/shokax/layout/_alternate/json.ejs"
    output: "feed.json"
```

## 未知
如果发生了hexo g/s报错，解决办法：hexo 根目录执行 <font color="#4f81bd">`pnpm add hexo-theme-shokax`</font>

# 部署到腾讯云EdgeOne上
不止这种静态网站部署平台，更免费方便的就是Github Pages，当纯只是写东西放在互联网上不求互动什么的更推荐Github Pages。其他的还有国内的阿里EOS，国外的Vercel、Cloudflare。如果你确定就只部署到Edgeone上，否则推荐看看这位博主的[其他平台部署教程](https://lyrashore.com/computer-science/hexo/shokax/shokax-deploy/)，很清晰简洁，还有图文。
我为了方便用的是国内的腾讯云EdgeOne。这里是[EdgeOne控制台链接](https://console.cloud.tencent.com/edgeone/pages)
## 过程
首先确保你的hexo项目上传到了你自己的git仓库中，<font color="#ff0000">注意是整个hexo项目哦</font>。shokax只是在hexo项目中的其中一个目录。
这里有一个坑，我也是翻跟头了。此前不是从git上拉取shokax主题到根目录的/themes下吗？到`/themes/shokax`找`.gitignore`，补上（如果缺少的话）:

```
!/toolbox/*
!scripts/**/*.js
```
这样git才会把/themes/shokax下的这些目录下的js文件上传到git。因为Edgeone是拿整个项目代码构建的，所以这些js文件不能缺，缺了项目就构建不完整导致你预览网页会404.
你可以先看看这样行不行，没有`/themes/shokax/.gitignore`也去根目录下的`.gitignore`上试试。如果你在EdgeOne上构建出现错误可以先看看是不是git上传少了文件。

然后到腾讯云Edgeone控制台：创建项目>导入Git仓库>选择对应的仓库>项目设置
项目设置>构建部署配置的架构预设选择Hexo。调好这些设置去查看项目部署是否成功，去预览地址。

## 检测到仿冒网站弹窗
shokax 默认开启防镜像站功能，解决办法也很简单，进入Edgeone的项目概览>域名:添加自定义域名>那里有默认的预览域名，复制下来，打开 `_config.yml` , 找到 `url` 一栏复制上去。
例:

```
url: https://test.cool/
```
后面可以加你自己购买的域名。

